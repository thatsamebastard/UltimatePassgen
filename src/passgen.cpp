#include "passgen.h"

extern int c,length;
extern string name;
extern char chrlst;
extern random_device rnd;
default_random_engine e(rnd());
using namespace std;

vector<int> rus = 
{	0x410,0x411,0x412,0x413,0x414,0x415,0x401,0x416,0x417,0x418,
	0x419,0x41A,0x41B,0x41C,0x41D,0x41E,0x41F,0x420,0x421,0x422,
	0x423,0x424,0x425,0x426,0x427,0x428,0x429,0x42A,0x42B,0x42C,
	0x42D,0x42E,0x42F,0x430,0x431,0x432,0x433,0x434,0x435,0x451,
	0x436,0x437,0x438,0x439,0x43A,0x43B,0x43C,0x43D,0x43E,0x43F,
	0x440,0x441,0x442,0x443,0x444,0x445,0x446,0x447,0x448,0x449,
	0x44A,0x44B,0x44C,0x44D,0x44E,0x44F,0x30,0x31,0x32,0x33,0x34,
	0x35,0x36,0x37,0x38,0x39,0x21,0x22,0x23,0x24,0x25,0x26,0x27,
	0x28,0x29,0x2A,0x2B,0x2C,0x2D,0x2E,0x2F,0x3A,0x3B,0x3C,0x3D,
	0x3E,0x3F,0x40,0x5B,0x5C,0x5D,0x5E,0x5F,0x60,0x7B,0x7C,0x7D,0x7E
};

vector<int> en =
{
	0x41,0x42,0x43,0x44,0x45,0x46,0x47,0x48,0x49,0x4A,0x4B,0x4C,
	0x4D,0x4E,0x4F,0x50,0x51,0x52,0x53,0x54,0x55,0x56,0x57,0x58,
	0x59,0x5A,0x61,0x62,0x63,0x64,0x65,0x66,0x67,0x68,0x69,0x6A,
	0x6B,0x6C,0x6D,0x6E,0x6F,0x70,0x71,0x72,0x73,0x74,0x75,0x76,
	0x77,0x78,0x79,0x7A,0x30,0x31,0x32,0x33,0x34,0x35,0x36,0x37,
	0x38,0x39,0x21,0x22,0x23,0x24,0x25,0x26,0x27,0x28,0x29,0x2A,
	0x2B,0x2C,0x2D,0x2E,0x2F,0x3A,0x3B,0x3C,0x3D,0x3E,0x3F,0x40,
	0x5B,0x5C,0x5D,0x5E,0x5F,0x60,0x7B,0x7C,0x7D,0x7E
};

vector <int> num = {0x30,0x31,0x32,0x33,0x34,0x35,0x36,0x37,0x38,0x39};

void set(string s, int &i) 
{
  wstring ws{s.begin(), s.end()};
  wcout << ws;

  ///////////////////////////////////
  //      ЗАЩИТА  ОТ  ДУРАКА      //
  //////////////////////////////////

  char ver;
    while (!(cin >>noskipws>> i) || cin.get()!='\n') {
	wcout << "\t\tInput Error!\n";
      	cin.clear(); //сброс флага
      	cin.ignore(numeric_limits<streamsize>::max(), '\n'); //вытераем буфер
      	wcout << ws;
  						      }
}

/*void debug(wostream& os,const vector<int>& ch)
{
for(int x:ch)
os<<(wchar_t)x<<' ';
wcout<<'\n';
}*/

void print(wostream &os,const vector<int> &ch)
{
//debug(wcout,ch);
uniform_int_distribution<int> un(0, ch.size()-1);
  for (int j = 0; j < c; j++) {
    for (int i = 0; i < length; i++)
      os <<(wchar_t)ch[un(e)];
    os << '\n';
  			      }
}


void print(wostream& os, const vector<int>&rus, const vector<int>&en) //ОБЪЕДИНЕНИЕ ВЕКТОРОV
{
  vector<int> ch;
  ch.reserve(rus.size() + en.size() - 42); // preallocate memory
  ch.insert(ch.end(), rus.begin(), rus.end());
  ch.insert(ch.end(), en.begin(), en.end() - 42); //ТОЛЬКО БУКВЫ
  //debug(wcout, ch);
  print(os, ch);
}
